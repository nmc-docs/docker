"use strict";(self.webpackChunknextjs=self.webpackChunknextjs||[]).push([[216],{2202:(e,n,c)=>{c.r(n),c.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>a,frontMatter:()=>d,metadata:()=>o,toc:()=>h});const o=JSON.parse('{"id":"docker-compose/cli/docker-compose-up","title":"docker compose up","description":"- L\u1ec7nh docker compose up l\xe0 m\u1ed9t trong nh\u1eefng l\u1ec7nh quan tr\u1ecdng nh\u1ea5t khi l\xe0m vi\u1ec7c v\u1edbi Docker Compose. N\xf3 \u0111\u01b0\u1ee3c d\xf9ng \u0111\u1ec3 kh\u1edfi \u0111\u1ed9ng to\xe0n b\u1ed9 c\xe1c d\u1ecbch v\u1ee5 (services) \u0111\u01b0\u1ee3c \u0111\u1ecbnh ngh\u0129a trong file docker-compose.yml.","source":"@site/docs/docker-compose/cli/docker-compose-up.md","sourceDirName":"docker-compose/cli","slug":"/docker-compose/cli/docker-compose-up","permalink":"/docker/docker-compose/cli/docker-compose-up","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"CLI","permalink":"/docker/category/cli"},"next":{"title":"docker compose down","permalink":"/docker/docker-compose/cli/docker-compose-down"}}');var i=c(4848),s=c(8453);const d={sidebar_position:1},r="docker compose up",l={},h=[{value:"\u2705 Option <code>-f</code> / <code>--file</code>: ch\u1ec9 \u0111\u1ecbnh file <code>docker-compose.yml</code>",id:"-option--f----file-ch\u1ec9-\u0111\u1ecbnh-file-docker-composeyml",level:2},{value:"\u2705 Option <code>--env-file</code>: ch\u1ec9 \u0111\u1ecbnh file <code>.env</code> ch\u1ee9a bi\u1ebfn m\xf4i tr\u01b0\u1eddng",id:"-option---env-file-ch\u1ec9-\u0111\u1ecbnh-file-env-ch\u1ee9a-bi\u1ebfn-m\xf4i-tr\u01b0\u1eddng",level:2},{value:"\u2705 K\u1ebft h\u1ee3p c\xe1c option:",id:"-k\u1ebft-h\u1ee3p-c\xe1c-option",level:2}];function t(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"docker-compose-up",children:(0,i.jsx)(n.code,{children:"docker compose up"})})}),"\n",(0,i.jsx)(n.admonition,{title:"Th\xf4ng tin",type:"info",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["L\u1ec7nh ",(0,i.jsx)(n.code,{children:"docker compose up"})," l\xe0 m\u1ed9t trong nh\u1eefng l\u1ec7nh quan tr\u1ecdng nh\u1ea5t khi l\xe0m vi\u1ec7c v\u1edbi Docker Compose. N\xf3 \u0111\u01b0\u1ee3c d\xf9ng \u0111\u1ec3 ",(0,i.jsx)(n.strong,{children:"kh\u1edfi \u0111\u1ed9ng to\xe0n b\u1ed9 c\xe1c d\u1ecbch v\u1ee5 (services)"})," \u0111\u01b0\u1ee3c \u0111\u1ecbnh ngh\u0129a trong file ",(0,i.jsx)(n.code,{children:"docker-compose.yml"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["\u2705 M\u1ee5c \u0111\xedch ch\xednh c\u1ee7a ",(0,i.jsx)(n.code,{children:"docker compose up"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Build images (n\u1ebfu ch\u01b0a c\xf3)"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"T\u1ea1o v\xe0 kh\u1edfi ch\u1ea1y containers cho c\xe1c services"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Thi\u1ebft l\u1eadp m\u1ea1ng v\xe0 volumes n\u1ebfu c\u1ea7n"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"G\u1eafn log c\u1ee7a c\xe1c container l\xean terminal \u0111\u1ec3 theo d\xf5i"})}),"\n"]}),"\n"]}),"\n"]})}),"\n",(0,i.jsx)(n.p,{children:"\ud83e\udde9 C\xe1c t\xf9y ch\u1ecdn (options) th\u01b0\u1eddng d\xf9ng:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Option"}),(0,i.jsx)(n.th,{children:"M\xf4 t\u1ea3"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"-d"}),",",(0,i.jsx)(n.code,{children:"--detach"})]}),(0,i.jsx)(n.td,{children:"Ch\u1ea1y container \u1edf ch\u1ebf \u0111\u1ed9 n\u1ec1n (background), kh\xf4ng hi\u1ec3n th\u1ecb log"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--build"})}),(0,i.jsx)(n.td,{children:"B\u1eaft bu\u1ed9c build l\u1ea1i image tr\u01b0\u1edbc khi ch\u1ea1y"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--force-recreate"})}),(0,i.jsx)(n.td,{children:"Lu\xf4n lu\xf4n t\u1ea1o l\u1ea1i container, k\u1ec3 c\u1ea3 khi kh\xf4ng c\xf3 thay \u0111\u1ed5i"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--no-build"})}),(0,i.jsx)(n.td,{children:"Kh\xf4ng build l\u1ea1i image, d\xf9ng image c\xf3 s\u1eb5n"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--no-deps"})}),(0,i.jsx)(n.td,{children:"Kh\xf4ng kh\u1edfi \u0111\u1ed9ng c\xe1c service ph\u1ee5 thu\u1ed9c, ch\u1ec9 ch\u1ea1y service ch\u1ec9 \u0111\u1ecbnh"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--remove-orphans"})}),(0,i.jsxs)(n.td,{children:["X\xf3a container kh\xf4ng c\xf2n \u0111\u1ecbnh ngh\u0129a trong file ",(0,i.jsx)(n.code,{children:"docker-compose.yml"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--scale SERVICE=NUM"})}),(0,i.jsx)(n.td,{children:"Scale m\u1ed9t service l\xean nhi\u1ec1u container"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:"\u2705 V\xed d\u1ee5 c\u1ee5 th\u1ec3: Build l\u1ea1i image v\xe0 ch\u1ea1y service \u1edf ch\u1ebf \u0111\u1ed9 n\u1ec1n:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker compose up -d --build\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"-option--f----file-ch\u1ec9-\u0111\u1ecbnh-file-docker-composeyml",children:["\u2705 Option ",(0,i.jsx)(n.code,{children:"-f"})," / ",(0,i.jsx)(n.code,{children:"--file"}),": ch\u1ec9 \u0111\u1ecbnh file ",(0,i.jsx)(n.code,{children:"docker-compose.yml"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker compose -f docker-compose.staging.yml up\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["M\u1eb7c \u0111\u1ecbnh, Docker Compose s\u1ebd t\xecm file t\xean l\xe0 ",(0,i.jsx)(n.code,{children:"docker-compose.yml"})," \u1edf th\u01b0 m\u1ee5c hi\u1ec7n t\u1ea1i."]}),"\n",(0,i.jsxs)(n.li,{children:["N\u1ebfu ta mu\u1ed1n d\xf9ng m\u1ed9t file kh\xe1c (v\xed d\u1ee5 m\xf4i tr\u01b0\u1eddng staging, production\u2026), h\xe3y d\xf9ng ",(0,i.jsx)(n.code,{children:"-f"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\ud83d\udca1 C\xf3 th\u1ec3 ",(0,i.jsx)(n.strong,{children:"ch\u1ec9 \u0111\u1ecbnh nhi\u1ec1u file"})," (n\u1ed1i ch\u1ed3ng c\u1ea5u h\xecnh):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker compose -f docker-compose.yml -f docker-compose.override.yml up\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"-option---env-file-ch\u1ec9-\u0111\u1ecbnh-file-env-ch\u1ee9a-bi\u1ebfn-m\xf4i-tr\u01b0\u1eddng",children:["\u2705 Option ",(0,i.jsx)(n.code,{children:"--env-file"}),": ch\u1ec9 \u0111\u1ecbnh file ",(0,i.jsx)(n.code,{children:".env"})," ch\u1ee9a bi\u1ebfn m\xf4i tr\u01b0\u1eddng"]}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u1ede ",(0,i.jsx)(n.a,{href:"../structure",children:"m\u1ee5c tr\u01b0\u1edbc"}),", b\u1ea1n th\u1ea5y trong file docker compose, m\xecnh c\xf3 s\u1eed d\u1ee5ng c\xe1c bi\u1ebfn nh\u01b0 ",(0,i.jsx)(n.code,{children:"${MYSQL_DATABASE_NAME}"}),", ",(0,i.jsx)(n.code,{children:"${MYSQL_PASSWORD}"})," ",(0,i.jsx)(n.code,{children:"${MYSQL_PASSWORD}"}),",... Khi ta ch\u1ec9 \u0111\u1ecbnh option ",(0,i.jsx)(n.code,{children:"--env-file"})," th\xec c\xe1c bi\u1ebfn m\xf4i tr\u01b0\u1eddng trong file env \u0111\xf3 s\u1ebd \u0111\u01b0\u1ee3c inject v\xe0o bi\u1ebfn t\u01b0\u01a1ng \u1ee9ng trong file ",(0,i.jsx)(n.code,{children:"docker-compose.yaml"}),"."]}),"\n"]})}),"\n",(0,i.jsx)(n.admonition,{title:"L\u01b0u \xfd",type:"caution",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Option ",(0,i.jsx)(n.code,{children:"--env-file"})," n\xe0y ",(0,i.jsx)(n.strong,{children:"KH\xd4NG LI\xcaN QUAN G\xcc \u0110\u1ebeN"})," ",(0,i.jsx)(n.code,{children:"env_file"})," \u1edf trong service."]}),"\n"]})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker compose --env-file .env.staging up\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Docker Compose m\u1eb7c \u0111\u1ecbnh s\u1ebd t\xecm ",(0,i.jsx)(n.code,{children:".env"})," \u1edf th\u01b0 m\u1ee5c hi\u1ec7n t\u1ea1i n\u1ebfu kh\xf4ng ch\u1ec9 \u0111\u1ecbnh."]}),"\n",(0,i.jsxs)(n.li,{children:["V\u1edbi ",(0,i.jsx)(n.code,{children:"--env-file"}),", ta c\xf3 th\u1ec3 ",(0,i.jsx)(n.strong,{children:"ch\u1ec9 r\xf5 file .env kh\xe1c"})," , nh\u01b0 ",(0,i.jsx)(n.code,{children:".env.dev"}),", ",(0,i.jsx)(n.code,{children:".env.prod"}),", v.v."]}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["\ud83d\udd25 ",(0,i.jsx)(n.strong,{children:"\u01afu \u0111i\u1ec3m"})," : Gi\xfap d\u1ec5 d\xe0ng c\u1ea5u h\xecnh v\xe0 ch\u1ea1y \u1edf nhi\u1ec1u m\xf4i tr\u01b0\u1eddng kh\xe1c nhau (dev, staging, prod...)."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-k\u1ebft-h\u1ee3p-c\xe1c-option",children:"\u2705 K\u1ebft h\u1ee3p c\xe1c option:"}),"\n",(0,i.jsxs)(n.p,{children:["V\xed d\u1ee5: D\xf9ng ",(0,i.jsx)(n.code,{children:"docker-compose.staging.yml"}),", n\u1ea1p file ",(0,i.jsx)(n.code,{children:".env.staging"}),", build l\u1ea1i image v\xe0 ch\u1ea1y \u1edf ch\u1ebf \u0111\u1ed9 n\u1ec1n:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker compose -f docker-compose.staging.yml --env-file .env.staging up --build -d\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u0110\u01b0\u1eddng d\u1eabn cho c\xe1c thu\u1ed9c t\xednh ",(0,i.jsx)(n.code,{children:"-f"}),", ",(0,i.jsx)(n.code,{children:"--env-file"})," t\xednh t\u1eeb th\u01b0 m\u1ee5c ta \u0111ang \u0111\u1ee9ng ch\u1ea1y l\u1ec7nh ",(0,i.jsx)(n.code,{children:"docker compose up"})]}),"\n"]})}),"\n",(0,i.jsxs)(n.admonition,{title:"L\u01b0u \xfd",type:"caution",children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["N\u1ebfu ta s\u1eed d\u1ee5ng c\xe1c option ",(0,i.jsx)(n.code,{children:"-f"}),", ",(0,i.jsx)(n.code,{children:"--env-file"})," th\xec \u0111\u1ed1i v\u1edbi t\u1ea5t c\u1ea3 c\xe1c l\u1ec7nh compose kh\xe1c (",(0,i.jsx)(n.code,{children:"docker compose ls, ps, images,..."}),"), ta \u0111\u1ec1u ph\u1ea3i ch\u1ec9 \u0111\u1ecbnh l\u1ea1i, n\u1ebfu kh\xf4ng s\u1ebd g\xe2y l\u1ed7i, v\xed d\u1ee5, n\u1ebfu ta kh\u1edfi \u0111\u1ed9ng compose nh\u01b0 sau:"]}),"\n"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker compose -f db.docker-compose.yaml --env-file .env.prod up -d\n"})}),(0,i.jsx)(n.p,{children:"th\xec s\u1eed d\u1ee5ng c\xe1c l\u1ec7nh kh\xe1c li\xean quan \u0111\u1ebfn compose ph\u1ea3i ch\u1ec9 \u0111\u1ecbnh l\u1ea1i option \u0111\xf3:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker compose -f db.docker-compose.yaml --env-file .env.prod ps\n"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker compose -f db.docker-compose.yaml --env-file .env.prod images\n"})})]})]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}},8453:(e,n,c)=>{c.d(n,{R:()=>d,x:()=>r});var o=c(6540);const i={},s=o.createContext(i);function d(e){const n=o.useContext(s);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);